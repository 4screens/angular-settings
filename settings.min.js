/*
 4screens-settings v0.1.6
 (c) 2014 Nopattern sp. z o.o.
 License: proprietary
*/
"use strict";angular.module("4screens.settings",[]),angular.module("4screens.settings").provider("SettingsEngageformService",function(){var e,n=!1;this.mockPostCommunication=function(){e=!0},this.$get=["$http","$q","CONFIG",function(t,r,s){function a(e,s){if(n){var a;return a=r.defer(),a.resolve({data:s}),a.promise}return t.post(e,s)}return{get:function(n){if(!n)throw"engageFormId has not been set!";return t.get(s.backend.answers.domain+s.backend.answers.getQuizUrl.replace(":quizId",n)+(e?"?preview":"")).then(function(e){return e.data})},sendAnswer:function(n){if(!n)throw"response has not been set!";if(!n.quizQuestionId)throw"response quizQuestionId has not been set!";return a(s.backend.answers.domain+s.backend.answers.answerUrl.replace(":questionId",n.quizQuestionId)+(e?"?preview":""),n).then(function(e){return e.data})},getQuestions:function(n){if(!n)throw"engageFormId has not been set!";return t.get(s.backend.answers.domain+s.backend.answers.getQuestionsUrl.replace(":quizId",n)+(e?"?preview":"")).then(function(e){return e.data})},submitQuiz:function(n,t,r){return a(s.backend.answers.domain+s.backend.answers.submitQuizUrl.replace(":quizId",n)+(e?"?preview":""),{userIdent:t,globalUserIdent:r}).then(function(e){return e.data})},getGlobalUserIndent:function(){return t.get(s.backend.answers.domain+s.backend.user.getGlobalIdent+(e?"?preview":"")).then(function(e){return e.data.globalUserIdent})}}}]});
