/*
 4screens-settings v0.1.5
 (c) 2014 Nopattern sp. z o.o.
 License: proprietary
*/
"use strict";angular.module("4screens.settings",[]),angular.module("4screens.settings").provider("SettingsEngageformService",function(){var e=!1;this.mockPostCommunication=function(){e=!0},this.$get=["$http","$q","CONFIG",function(n,t,r){function s(r,s){if(e){var a;return a=t.defer(),a.resolve({data:s}),a.promise}return n.post(r,s)}return{get:function(e){if(!e)throw"engageFormId has not been set!";return n.get(r.backend.answers.domain+r.backend.answers.getQuizUrl.replace(":quizId",e)).then(function(e){return e.data})},sendAnswer:function(e){if(!e)throw"response has not been set!";if(!e.quizQuestionId)throw"response quizQuestionId has not been set!";return s(r.backend.answers.domain+r.backend.answers.answerUrl.replace(":questionId",e.quizQuestionId),e).then(function(e){return e.data})},getQuestions:function(e){if(!e)throw"engageFormId has not been set!";return n.get(r.backend.answers.domain+r.backend.answers.getQuestionsUrl.replace(":quizId",e)).then(function(e){return e.data})},submitQuiz:function(e,n,t){return s(r.backend.answers.domain+r.backend.answers.submitQuizUrl.replace(":quizId",e),{userIdent:n,globalUserIdent:t}).then(function(e){return e.data})},getGlobalUserIndent:function(){return n.get(r.backend.answers.domain+r.backend.user.getGlobalIdent).then(function(e){return e.data.globalUserIdent})}}}]}),angular.module("4screens.settings").factory("SettingsSocialhubService",["$http","CONFIG",function(e,n){return{get:function(t){return n.frontend.socialhubWidget.id=t,e.get(n.backend.domain+n.frontend.socialhubWidget.get.replace(":widgetId",t)).then(function(e){return e.data})}}}]);